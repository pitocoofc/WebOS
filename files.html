<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <style>
        body { margin: 0; padding: 20px; background: #0a0a0a; color: #fff; font-family: 'Segoe UI', sans-serif; }
        .header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; padding-bottom: 10px; }
        
        #file-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)); gap: 15px; margin-top: 20px; }
        .file-item { 
            display: flex; flex-direction: column; align-items: center; gap: 8px; 
            padding: 10px; border-radius: 8px; cursor: pointer; transition: 0.2s;
        }
        .file-item:hover { background: #1a1a1a; border: 1px solid #333; }
        .file-icon { font-size: 40px; }
        .file-name { font-size: 11px; text-align: center; color: #aaa; text-transform: uppercase; }

        /* Preview de Arquivo */
        #preview-modal {
            position: fixed; inset: 0; background: #000; display: none;
            flex-direction: column; padding: 20px; z-index: 100;
        }
        #file-content { 
            flex: 1; background: #111; padding: 20px; border: 1px solid #333; 
            border-radius: 8px; font-family: 'Consolas', monospace; color: #4ade80;
            overflow-y: auto; white-space: pre-wrap; margin-top: 15px;
        }
        .btn-close { background: #ff5f57; border: none; color: #fff; padding: 5px 15px; border-radius: 4px; cursor: pointer; }

        #loading { text-align: center; margin-top: 50px; color: #3b82f6; display: none; }
    </style>
</head>
<body>

    <div class="header">
        <span style="font-size: 12px; letter-spacing: 2px;">FILE EXPLORER / NDJ-LIB</span>
        <button onclick="fetchGitHubFiles()" style="background: #222; border: 1px solid #444; color: #fff; cursor: pointer; border-radius: 4px; padding: 5px 10px;">üîÑ Atualizar</button>
    </div>

    <div id="loading">Sincronizando com Reposit√≥rio...</div>
    <div id="file-grid"></div>

    <div id="preview-modal">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <h3 id="open-file-name" style="margin:0; font-weight: 300;"></h3>
            <button class="btn-close" onclick="closePreview()">FECHAR</button>
        </div>
        <div id="file-content"></div>
    </div>

    <script>
        // Configura√ß√µes do seu reposit√≥rio [cite: 2026-01-31]
        const USER = 'pitocoofc';
        const REPO = 'WebOS';
        const PATH = 'arquivos_do_sistema'; // Nome da pasta que voc√™ vai criar no GitHub

        async function fetchGitHubFiles() {
            const grid = document.getElementById('file-grid');
            const loader = document.getElementById('loading');
            
            grid.innerHTML = '';
            loader.style.display = 'block';

            try {
                // API do GitHub para listar conte√∫do de uma pasta
                const response = await fetch(`https://api.github.com/repos/${USER}/${REPO}/contents/${PATH}`);
                const files = await response.json();

                loader.style.display = 'none';

                if (files.message === "Not Found") {
                    grid.innerHTML = "<p style='color:orange; text-align:center; width:100%'>Pasta 'arquivos_do_sistema' n√£o encontrada no GitHub.</p>";
                    return;
                }

                files.forEach(file => {
                    const item = document.createElement('div');
                    item.className = 'file-item';
                    
                    let icon = 'üìÑ';
                    if (file.type === 'dir') icon = 'üìÅ';
                    
                    item.innerHTML = `
                        <div class="file-icon">${icon}</div>
                        <div class="file-name">${file.name}</div>
                    `;

                    item.onclick = () => openGitHubFile(file.download_url, file.name);
                    grid.appendChild(item);
                });

            } catch (err) {
                loader.innerText = "Erro ao conectar ao GitHub.";
            }
        }

        async function openGitHubFile(url, name) {
            const modal = document.getElementById('preview-modal');
            const contentBox = document.getElementById('file-content');
            
            modal.style.display = 'flex';
            document.getElementById('open-file-name').innerText = name;
            contentBox.innerText = "Carregando conte√∫do...";

            try {
                const response = await fetch(url);
                const text = await response.text();
                contentBox.innerText = text;
            } catch (e) {
                contentBox.innerText = "Erro ao ler o arquivo.";
            }
        }

        function closePreview() {
            document.getElementById('preview-modal').style.display = 'none';
        }

        // Inicia a busca ao abrir o app
        fetchGitHubFiles();
    </script>
</body>
</html>
